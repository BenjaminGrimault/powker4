{% extends 'Powker4Bundle::layout.html.twig' %}

{% block main %}
{% if player == 0 %}
<div class="play-with-friend">
  Donnez cette URL Ã  votre ami pour qu'il puisse jouer avec vous : {{ friendUrl }}
</div>
{% endif %}

<table id="grid">
  {% if toPlay %}
  <thead>
    {% for key, form in forms %}
    <th>
      {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

        <div class="form-group">
          {{ form_widget(form.x, {'attr': {'class': 'form-control', 'value': key}}) }}
        </div>

        <button type="submit" class="btn btn-primary">Placer</button>

      {{ form_end(form) }}
    </th>
    {% endfor %}
  </thead>
  {% endif %}

  <tbody>
    {% for y in 0..(grid.y - 1) %}
    <tr>
      {% for x in 0..(grid.x - 1) %}
      <td>
        {% if pieces[x][y] is defined %}
        <div class="piece_{{ pieces[x][y] }}"><div>
        {% endif %}
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock main %}
